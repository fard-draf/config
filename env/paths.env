#!/bin/zsh
# Configuration des chemins (PATH)

# Fonction pour ajouter un répertoire au début du PATH
path_prepend() {
  if [[ -d "$1" ]] && [[ ":$PATH:" != *":$1:"* ]]; then
    PATH="$1:$PATH"
  fi
}

# Fonction pour ajouter un répertoire à la fin du PATH
path_append() {
  if [[ -d "$1" ]] && [[ ":$PATH:" != *":$1:"* ]]; then
    PATH="$PATH:$1"
  fi
}

# Chemins spécifiques à l'environnement de développement (priorité haute)
path_prepend "$CARGO_HOME/bin"
path_prepend "/mnt/repo/dev/tools/solana/active_release/bin"
path_prepend "$HOME/.local/bin"
path_prepend "$HOME/bin"
path_prepend "$NODEJS_HOME/bin"
path_prepend "$NODEJS_HOME/npm-global/bin"
path_prepend "/mnt/repo/dev/tools/claude/bin"
path_prepend "$TYPESCRIPT_HOME/bin"

# Chemins d'administration système (priorité basse - ajoutés à la fin)
path_append "/usr/local/sbin"
path_append "/usr/sbin"
path_append "/sbin"

# Export du PATH pour les sous-shells
export PATH

# Yarn Package Manager
export YARN_HOME="/mnt/repo/dev/tools/yarn"
path_prepend "${YARN_HOME}/bin"
path_prepend "${YARN_HOME}/global/bin"

# Podman
export PATH="/mnt/repo/dev/tools/podman/bin:$PATH"
